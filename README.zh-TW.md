# Claude Code å®‰è£æŒ‡å—

[English](README.md) | ç¹é«”ä¸­æ–‡ | [ç®€ä½“ä¸­æ–‡](README.zh-CN.md)

## æ¦‚è¿°

Claude Code æ˜¯ä¸€å€‹è·¨å¹³å°çš„å‘½ä»¤åˆ—å·¥å…· (CLI)ï¼Œæ”¯æ´ Windowsã€macOS å’Œ Linux ç³»çµ±ã€‚æœ¬æŒ‡å—å°‡å¹«åŠ©æ‚¨ä½¿ç”¨è‡ªå‹•å®‰è£ç¨‹å¼å¿«é€Ÿè¨­å®š Claude Code CLIã€‚

> **æ³¨æ„**ï¼šæœ¬æ•™å­¸ä¸­çš„æˆªåœ–ç‚º Windows ç’°å¢ƒï¼Œä½† macOS å’Œ Linux çš„æ“ä½œæµç¨‹åŸºæœ¬ç›¸åŒï¼Œå› ç‚ºé€™æ˜¯ä¸€å€‹å‘½ä»¤åˆ—å·¥å…·ã€‚

## å®‰è£ç¨‹å¼åŠŸèƒ½

å®‰è£ç¨‹å¼æœƒè‡ªå‹•åŸ·è¡Œä»¥ä¸‹æ­¥é©Ÿï¼š

1. **æª¢æŸ¥ Node.js ç’°å¢ƒ**ï¼ˆéœ€è¦ v22 æˆ–æ›´æ–°ç‰ˆæœ¬ï¼‰
   - macOS/Linuxï¼šå˜—è©¦è‡ªå‹•å®‰è£ Node.js
   - Windowsï¼šä½¿ç”¨å…§å»ºçš„ Node.js å®‰è£åŒ…ï¼Œå®‰è£è‡³ `%USERPROFILE%\.claude\nodejs`ï¼Œä¸¦è‡ªå‹•è¨­å®šç’°å¢ƒè®Šæ•¸

2. **å®‰è£ Claude Code CLI**
   - é€é npm å…¨åŸŸå®‰è£æœ€æ–°ç‰ˆæœ¬ï¼š`@anthropic-ai/claude-code@latest`
   - è‡ªå‹•åµæ¸¬å…§éƒ¨ npm registry å’Œ MLOP gateway

3. **å»ºç«‹è¨­å®šæª”**
   - åœ¨ `~/.claude/settings.json` å»ºç«‹é è¨­è¨­å®š
   - å¦‚æª”æ¡ˆå·²å­˜åœ¨ï¼Œæœƒè©¢å•æ˜¯å¦è¦†è“‹ä¸¦è‡ªå‹•å‚™ä»½èˆŠè¨­å®š

## ç‰¹è‰²åŠŸèƒ½

- âœ… ç¢ºä¿æ¯æ¬¡éƒ½å®‰è£æœ€æ–°ç‰ˆæœ¬ï¼ˆç„¡éœ€æ‰‹å‹•åŸ·è¡Œ `claude update`ï¼‰
- âœ… è‡ªå‹•å‚™ä»½ç¾æœ‰è¨­å®šæª”ï¼ˆæ ¼å¼ï¼š`settings.backup_YYYYMMDD_HHMMSS.json`ï¼‰
- âœ… è·¨å¹³å°æ”¯æ´ï¼šWindowsã€macOSã€Linux
- âœ… æ™ºæ…§ç¶²è·¯ç’°å¢ƒåµæ¸¬

---

## å®‰è£æ­¥é©Ÿ

### æ­¥é©Ÿ 1ï¼šä¸‹è¼‰å®‰è£åŒ…

å‰å¾€ç™¼ä½ˆé é¢ä¸‹è¼‰å°æ‡‰æ‚¨ä½œæ¥­ç³»çµ±çš„å®‰è£åŒ…ï¼š  
ğŸ”— **[Claude Code ç™¼ä½ˆé é¢](https://gitea.mediatek.inc/IT-GAIA/claude-code/releases)**

æ”¯æ´çš„å¹³å°ï¼š
- ğŸ–¥ï¸ **Windows**ï¼šx64 / ARM64
- ğŸ **macOS**ï¼šIntel / Apple Silicon
- ğŸ§ **Linux**ï¼šx64 / ARM64

![ç™¼ä½ˆé é¢](images/release_page.png)

### æ­¥é©Ÿ 2ï¼šè§£å£“ç¸®æª”æ¡ˆ

å°‡ä¸‹è¼‰çš„ zip æª”æ¡ˆè§£å£“ç¸®åˆ°å®¹æ˜“å­˜å–çš„ä½ç½®ï¼Œå»ºè­°é¸æ“‡å¯ä»¥è¼•é¬†å¾çµ‚ç«¯æ©Ÿæˆ–å‘½ä»¤æç¤ºå­—å…ƒé–‹å•Ÿçš„è³‡æ–™å¤¾ã€‚

![è§£å£“ç¸®ç¯„ä¾‹](images/unzip.jpeg)

### æ­¥é©Ÿ 3ï¼šåŸ·è¡Œå®‰è£ç¨‹å¼

æ ¹æ“šæ‚¨çš„ä½œæ¥­ç³»çµ±åŸ·è¡Œå°æ‡‰çš„å®‰è£ç¨‹å¼ï¼š

#### ğŸ§ Linux
```bash
# åœ¨è§£å£“ç¸®çš„è³‡æ–™å¤¾ä¸­é–‹å•Ÿçµ‚ç«¯æ©Ÿ
chmod +x ./installer  # çµ¦äºˆåŸ·è¡Œæ¬Šé™ï¼ˆå¦‚éœ€è¦ï¼‰
./installer           # åŸ·è¡Œå®‰è£ç¨‹å¼
```

#### ğŸ macOS
```bash
# æ–¹æ³• 1ï¼šç›´æ¥é›™æ“Š installer æª”æ¡ˆ
# æ–¹æ³• 2ï¼šåœ¨çµ‚ç«¯æ©Ÿä¸­åŸ·è¡Œ
./installer
```

#### ğŸ–¥ï¸ Windows
```powershell
# æ–¹æ³• 1ï¼šç›´æ¥é›™æ“Š installer.exe
# æ–¹æ³• 2ï¼šåœ¨ PowerShell ä¸­åŸ·è¡Œ
.\installer.exe
```

![å®‰è£ç¨‹å¼è³‡æ–™å¤¾](images/installer_folder.jpeg)

### æ­¥é©Ÿ 4ï¼šè¨­å®šå®‰è£é¸é …

å®‰è£ç¨‹å¼å•Ÿå‹•å¾Œï¼Œæ‚¨æœƒçœ‹åˆ°ä¸»é¸å–®ï¼š

1. **é–‹å§‹å®‰è£**ï¼šæŒ‰ä¸‹ Enter éµ æˆ– é¸æ“‡éœ€è¦çš„åŠŸèƒ½

![å®‰è£ç¨‹å¼ä¸»é¸å–®](images/installer_menu1.png)

![ä¸‹è¼‰ä¸­](images/installing.png)

> â³ **è«‹è€å¿ƒç­‰å€™**ï¼šæ­¤æ­¥é©ŸåŒ…å« Node.js v22 å’Œ Claude Code CLI çš„ä¸‹è¼‰èˆ‡å®‰è£ï¼Œå¯èƒ½éœ€è¦å¹¾åˆ†é˜æ™‚é–“ã€‚

å®Œæˆå¾Œä½ æœƒçœ‹åˆ°é€™å€‹ç•«é¢å¼•å°ä½ é€²è¡Œä¸‹ä¸€æ­¥

![å®‰è£å®Œæˆ](images/after_installed.png)

### æ­¥é©Ÿ 5ï¼šAPI Key è¨­å®š

å®‰è£å®Œæˆå¾Œï¼Œæ‚¨å¯ä»¥é¸æ“‡ API Key çš„è¨­å®šæ–¹å¼ï¼š

#### é¸é … 1ï¼šè‡ªå‹•è¨­å®š GAISF Tokenï¼ˆæ¨è–¦ï¼‰

- ä¾ç…§å¼•å°è¼¸å…¥æ‚¨çš„å“¡å·¥ç·¨è™Ÿï¼ˆä¾‹å¦‚ï¼šmtkxxxxxï¼‰èˆ‡ OA å¯†ç¢¼
- ç³»çµ±æœƒè‡ªå‹•å–å¾—ä¸¦è¨­å®š GAISF Token

![GAISF è¨­å®š](images/setup_gaisf.png)

#### é¸é … 2ï¼šæ‰‹å‹•è¼¸å…¥ GAISF Token
- å¦‚æœæ‚¨å·²ç¶“æœ‰ GAISF Tokenï¼Œå¯ç›´æ¥è²¼ä¸Šåˆ°è¼¸å…¥æ¡†ä¸­

![è²¼ä¸Š GAISF Token](images/paste_gaisf_token.png)

#### é¸é … 3ï¼šè·³éè¨­å®šï¼ˆé€²éšä½¿ç”¨è€…ï¼‰
- ç¨å¾Œæ‰‹å‹•ç·¨è¼¯è¨­å®šæª”æ¡ˆä¾†è¨­å®š API Key

![è·³éè¨­å®š](images/skip_setup.png)

### æ­¥é©Ÿ 6ï¼šå®Œæˆå®‰è£

å®‰è£æˆåŠŸå¾Œæœƒé¡¯ç¤ºå®Œæˆç•«é¢ï¼š

![å®‰è£å®Œæˆ](images/done.png)

### æ­¥é©Ÿ 7ï¼šé–‹å§‹ä½¿ç”¨

1. **é–‹å•Ÿæ–°çš„çµ‚ç«¯æ©Ÿ/å‘½ä»¤æç¤ºå­—å…ƒ**ï¼ˆé‡è¦ï¼šéœ€è¦æ–°è¦–çª—æ‰èƒ½è¼‰å…¥ç’°å¢ƒè®Šæ•¸ï¼‰
2. **åŸ·è¡Œ Claude Code**ï¼š
   ```bash
   claude
   ```

![Claude Code CLI](images/claude_code.png)

---

## ç³»çµ±éœ€æ±‚

| é …ç›® | éœ€æ±‚ |
|------|------|
| **ä½œæ¥­ç³»çµ±** | Windows 10+ã€macOS 10.15+ã€æˆ–ç¾ä»£ Linux ç™¼è¡Œç‰ˆ |
| **Node.js** | v22 æˆ–æ›´æ–°ç‰ˆæœ¬ï¼ˆå®‰è£ç¨‹å¼æœƒè‡ªå‹•è™•ç†ï¼‰ |
| **ç¶²è·¯é€£ç·š** | éœ€è¦é€£ç·šä»¥ä¸‹è¼‰å¥—ä»¶å’Œé€²è¡Œèªè­‰ |
| **æ¬Šé™** | ä¸€èˆ¬ä½¿ç”¨è€…æ¬Šé™å³å¯ï¼ˆç„¡éœ€ç®¡ç†å“¡æ¬Šé™ï¼‰ |

---

## ç–‘é›£æ’è§£

### âŒ ã€Œclaude: command not foundã€éŒ¯èª¤

**è§£æ±ºæ–¹æ³•ï¼š**
1. **é‡æ–°é–‹å•Ÿçµ‚ç«¯æ©Ÿ**ï¼šé—œé–‰ç›®å‰çš„çµ‚ç«¯æ©Ÿä¸¦é–‹å•Ÿæ–°çš„ï¼Œè®“ PATH ç’°å¢ƒè®Šæ•¸ç”Ÿæ•ˆ
2. **æª¢æŸ¥ PATH è¨­å®š**ï¼šç¢ºèª npm çš„å…¨åŸŸ bin ç›®éŒ„å·²åŠ å…¥ PATH
   ```bash
   # æª¢æŸ¥ npm å…¨åŸŸç›®éŒ„
   npm config get prefix
   ```

### ğŸ”§ Node.js å®‰è£å•é¡Œ

#### macOS/Linux
- å®‰è£ç¨‹å¼æœƒåœ¨ Debian/Ubuntu ç³»çµ±ä¸Šè‡ªå‹•å˜—è©¦ä½¿ç”¨ NodeSource 22.x
- å¦‚æœè‡ªå‹•å®‰è£å¤±æ•—ï¼Œè«‹æ‰‹å‹•å®‰è£ï¼š
  1. å‰å¾€ [Node.js å®˜ç¶²](https://nodejs.org/) ä¸‹è¼‰ v22+ ç‰ˆæœ¬
  2. å®‰è£å®Œæˆå¾Œé‡æ–°åŸ·è¡Œå®‰è£ç¨‹å¼

#### Windows
- å®‰è£ç¨‹å¼æœƒä½¿ç”¨å…§å»ºçš„ Node.js å®‰è£åŒ…
- è‡ªå‹•å®‰è£è‡³ `%USERPROFILE%\.claude\nodejs`
- å¦‚æœ‰å•é¡Œï¼Œè«‹ç¢ºèªè©²ç›®éŒ„çš„æ¬Šé™è¨­å®š

### ğŸ” èªè­‰å•é¡Œ

**å¸¸è¦‹å•é¡Œèˆ‡è§£æ±ºæ–¹æ³•ï¼š**

1. **GAISF Token è¨­å®šå¤±æ•—**
   - æª¢æŸ¥ MediaTek ç¶²è·¯é€£ç·š
   - ç¢ºèªå¸³è™Ÿå¯†ç¢¼æ­£ç¢º
   - æ‰‹å‹•é–‹å•Ÿ GAISF ç™»å…¥é é¢å–å¾— Token

2. **API é€£ç·šå•é¡Œ**
   - ç¢ºèªé˜²ç«ç‰†è¨­å®š
   - æª¢æŸ¥å…¬å¸ç¶²è·¯æ”¿ç­–
   - è¯ç¹« IT éƒ¨é–€ç¢ºèªç¶²è·¯å­˜å–æ¬Šé™

### ğŸ macOS å®‰å…¨é©—è­‰éŒ¯èª¤

**å•é¡Œ**ï¼šmacOS é¡¯ç¤ºã€Œç„¡æ³•é©—è­‰é–‹ç™¼è€…ã€æˆ–ã€Œæƒ¡æ„è»Ÿé«”ã€è­¦å‘Šï¼Œç„¡æ³•åŸ·è¡Œå®‰è£ç¨‹å¼ã€‚

**è§£æ±ºæ–¹æ³•**ï¼š
- å‰å¾€ **ç³»çµ±è¨­å®š** > **éš±ç§æ¬Šèˆ‡å®‰å…¨æ€§** > **å®‰å…¨æ€§**
- é»æ“Šè¢«é˜»æ“‹å®‰è£ç¨‹å¼è¨Šæ¯æ—çš„ **ã€Œå¼·åˆ¶å…è¨±ã€**
- é‡æ–°åŸ·è¡Œå®‰è£ç¨‹å¼

### ğŸ”„ é‡æ–°å®‰è£

å¦‚æœé‡åˆ°åš´é‡å•é¡Œï¼Œå¯ä»¥å®Œå…¨é‡æ–°å®‰è£ï¼š

1. **åˆªé™¤ Claude ç›®éŒ„**ï¼š
   ```bash
   # Windows
   rmdir /s "%USERPROFILE%\.claude"
   
   # macOS/Linux
   rm -rf ~/.claude
   ```

2. **é‡æ–°åŸ·è¡Œå®‰è£ç¨‹å¼**

---

## åƒè€ƒè³‡æº

- ğŸ“– **Claude Code å®˜æ–¹æ–‡ä»¶**ï¼š[https://docs.anthropic.com/zh-TW/docs/claude-code](https://docs.anthropic.com/zh-TW/docs/claude-code)
- âš™ï¸ **è¨­å®šèªªæ˜**ï¼š[https://docs.anthropic.com/zh-TW/docs/claude-code/settings](https://docs.anthropic.com/zh-TW/docs/claude-code/settings)
- ğŸ› **å•é¡Œå›å ±**ï¼š[Claude Code Issues](https://gitea.mediatek.inc/IT-GAIA/claude-code/issues)

---

## å®‰è£å®Œæˆå¾Œçš„æª”æ¡ˆçµæ§‹

### ç›®éŒ„çµæ§‹é è¦½

![Claude æª”æ¡ˆçµæ§‹](images/claude_structure.png)

### è¨­å®šæª”æ¡ˆå…§å®¹ (`~/.claude/settings.json`)

```json
{
   "env": {
      "ANTHROPIC_BEDROCK_BASE_URL": "https://mlop-azure-gateway.mediatek.inc",
      "ANTHROPIC_CUSTOM_HEADERS": "api-key: <<gaisf_token>>",
      "CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC": "1",
      "CLAUDE_CODE_SKIP_BEDROCK_AUTH": "1",
      "CLAUDE_CODE_USE_BEDROCK": "1",
      "DISABLE_TELEMETRY": "1",
      "NODE_TLS_REJECT_UNAUTHORIZED": "0",
      "BASH_DEFAULT_TIMEOUT_MS": "36000000",
      "BASH_MAX_TIMEOUT_MS": "36000000",
      "MCP_TIMEOUT": "300000",
      "MCP_TOOL_TIMEOUT": "36000000",
      "API_TIMEOUT_MS": "600000"
   },
   "includeCoAuthoredBy": true,
   "enableAllProjectMcpServers": true,
   "hooks": {
      "Stop": [
         {
            "matcher": "*",
            "hooks": [
               {
                  "type": "command",
                  "command": "C:\\Users\\ds906659\\.claude\\claude_analysis-windows-amd64.exe"
               }
            ]
         }
      ]
   }
}
```

### é‡è¦æª”æ¡ˆèªªæ˜

| æª”æ¡ˆ/ç›®éŒ„ | ç”¨é€” |
|-----------|------|
| `~/.claude/settings.json` | ä¸»è¦è¨­å®šæª”ï¼ŒåŒ…å« API è¨­å®šå’Œä½¿ç”¨è€…åå¥½ |
| `~/.claude/nodejs/` | Windows å°ˆç”¨ï¼šå…§å»ºçš„ Node.js å®‰è£ç›®éŒ„ |
| `~/.claude/settings.backup_*.json` | è‡ªå‹•å‚™ä»½çš„èˆŠè¨­å®šæª” |

---

## ä¸‹ä¸€æ­¥

å®‰è£å®Œæˆå¾Œï¼Œæ‚¨å¯ä»¥ï¼š

1. **æŸ¥çœ‹èªªæ˜**ï¼š`claude --help`
2. **é–‹å§‹æ–°å°ˆæ¡ˆ**ï¼š`claude chat`
3. **æŸ¥çœ‹ç‰ˆæœ¬**ï¼š`claude --version`
4. **æ›´æ–°è¨­å®š**ï¼šç·¨è¼¯ `~/.claude/settings.json`

ç¥æ‚¨ä½¿ç”¨æ„‰å¿«ï¼ ğŸ‰

---

## é—œæ–¼ claude_analysis çš„è§£æ

- `cmd/claude_analysis` ç¾åœ¨æœƒå…ˆå°‡æ¯ä¸€è¡Œ JSONL æ­£è¦åŒ–ç‚ºå‹åˆ¥åŒ–çµæ§‹ï¼Œå†é€²è¡Œå½™æ•´ã€‚
- é€™è®“ Go ç«¯å¾ŒçºŒè®€å–å·¥å…·è¼¸å‡ºæ™‚æ›´ç©©å¥ã€æ˜“æ–¼æ“´å……ã€‚
- äº¦å·²æé«˜æƒæå™¨ç·©è¡å€ï¼Œæ”¯æ´å¤§å‹ JSONL è¡Œã€‚
